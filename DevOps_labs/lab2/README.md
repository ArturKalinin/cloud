# Лабораторная работа №2
Задание: Написать два Dockerfile – плохой и хороший. Плохой должен запускаться и работать корректно, но в нём должно быть не менее 3 “bad practices”. В хорошем Dockerfile они должны быть исправлены. В Readme описать все плохие практики из кода Dockerfile и почему они плохие, как они были исправлены в хорошем  Dockerfile, а также две плохие практики по использованию этого контейнера

### Плохой Dockerfile
+ Использование latest версии
  
  Версия не зафиксирована, что может привести к ошибкам, которые будут возникать из-за нововведений
+ Несколько команд RUN

  Это создает несколько слоев в контейнере, увеличивает объем
+ Копирование всех файлов из папки, используя `COPY . .`

  Лучше указывать конкретно нужные файлы, чтобы избежать ненужного увеличения размера образа
  
  <img width="227" alt="Снимок экрана 2023-11-03 в 23 05 10" src="https://github.com/ArturKalinin/cloud/assets/109699946/e4129e99-377e-4a59-a3c2-00aa3f6307de">

### Хороший Dockerfile
+ Теперь указана точная версия python, что обеспечивает стабильность сборки
+ Команда RUN только 1. Так будет создан всего один слой, docker-образ станет меньшего размера и будет содержать в себе все необходимое (как и в первом варианте)
+ При копировании указаны только те файлы, которые действительно нужны, а значит образ не будет забит ненужными файлами, если они случайно попадут в папку
  
  <img width="255" alt="Снимок экрана 2023-11-03 в 23 28 19" src="https://github.com/ArturKalinin/cloud/assets/109699946/f8ae2c56-a9d7-40b0-887a-57e24dc5d03f">

__НО!__ И у этого контейнера остались недостатки:
+ Рекомендуется указывать рабочую директорию с помощью команды `WORKDIR`, чтобы операции внутри контейнера были более предсказуемыми
+  Не указаны версии зависимостей при установке пакетов через pip. Рекомендуется указывать конкретные версии зависимостей для обеспечения стабильности и предотвращения возможных проблем совместимости в будущем.

### Проверяем корректность работы Dockerfile
1) __С помощью команды `docker build .` создаем образ__

<img width="771" alt="image" src="https://github.com/ArturKalinin/cloud/assets/109699946/58b73200-551b-4419-b7fd-746cb708c0a4">

2) __С помощью команды `docker images` смотрим ID образа, чтоб его запустить__

<img width="436" alt="image" src="https://github.com/ArturKalinin/cloud/assets/109699946/1d92f6b3-8725-4e33-a338-250d206b25c9">

3) __Осталось запустить наш образ с помощью команды `docker run [ID]`__

<img width="428" alt="image" src="https://github.com/ArturKalinin/cloud/assets/109699946/45c32ea1-7681-4b06-98ac-de893fd5ffa1">
